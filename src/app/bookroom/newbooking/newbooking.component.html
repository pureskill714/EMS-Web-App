<app-header></app-header>

<div class="square-box">
    <!-- First Section: Header -->
    <div class="header">
        <div class="left">
            <h2>Make A New Booking</h2>
        </div>
    </div>

    <!-- Second Section: Dropdowns -->
    <div class="dropdowns">
        <div class="dropdown">
            <label for="date">Date:</label>
            <input type="date" id="date" name="date" [(ngModel)]="selectedDate" (ngModelChange)="onDateChange(); checkInputs()" [min]="minDate">


        </div>

        <div class="dropdown">
            <label for="roomselection">Room</label>
            <select id="roomselection" [(ngModel)]="selectedRoom" (ngModelChange)="onRoomChange(); checkInputs()" [disabled]="!selectedDate">
                <option value="Meeting Room 1">Meeting Room 1</option>
                <option value="Meeting Room 2">Meeting Room 2</option>
                <!-- Add more room options as needed -->
            </select>
        </div>
        <div class="dropdown">
            <button type="submit" (click)="search()" [disabled]="!inputsFilled" class="search-button">Search</button>
        </div>
    </div>
</div>
<br>
<!-- Third Section: Time Slots (Hidden by default) -->
<div class="time-slots" *ngIf="showTimeSlots">
    <button class="time-slot" [class.selected]="isSelected(timeSlot)"
        *ngFor="let timeSlot of timeSlots"
        (click)="toggleTimeSlot(timeSlot)">{{ timeSlot }}</button>

    <!-- Add the "Next" button after the last time slot button -->
    <button *ngIf="this.timeSlots.length > 0" class="grey-button" (click)="onNextButtonClick()">Next</button>
    <ng-container *ngIf="this.timeSlots.length <= 0">
        <div style="margin: auto; width: fit-content;">
            <h5 id="noBookingSlots">No available time slots remaining</h5>
        </div>
    </ng-container>
</div>